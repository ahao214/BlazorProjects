@page "/"

@inject IProduct _product

@using Joker.LearnBlazor.Web.Models
@using Joker.LearnBlazor.Web.Repository


<Layout>
    <Header Class="header">
        <div class="JokerLogo">
            Joker商品库
        </div>
        <Menu Theme="MenuTheme.Dark" Mode="MenuMode.Horizontal" DefaultSelectedKeys=@(new []{"2"})>
            <MenuItem Key="1" @onclick="open">新增商品</MenuItem>            
        </Menu>
    </Header>
    <Layout>
        <Sider Width="200" Class="site-layout-background">
            <Tree TItem="string" DefaultExpandAll="true">
                 <TreeNode Title="parent 1" Key="0-0" TItem="string">
                     <TreeNode Title="parent 1-0" Key="0-0-0"  TItem="string">
                         <TreeNode Title="leaf" Key="0-0-0-0"  TItem="string"></TreeNode>
                         <TreeNode Title="leaf" Key="0-0-0-1" TItem="string"></TreeNode>
                     </TreeNode>
                     <TreeNode Title="parent 1-1" Key="0-0-1" TItem="string">
                         <TreeNode Key="0-0-1-0" TItem="string">
                             <TitleTemplate>
                                 <span style="color: #1890ff; ">sss</span>
                             </TitleTemplate>
                         </TreeNode>
                     </TreeNode>
                 </TreeNode>
             </Tree>
        </Sider>
        <Layout Style=" padding: 0 24px 24px;">
            <Breadcrumb Style="margin: 16px 0;">
                <BreadcrumbItem>电子产品</BreadcrumbItem>
                <BreadcrumbItem>手机</BreadcrumbItem>                
            </Breadcrumb>
            <Content Class="site-layout-background" Style=" padding: 24px; margin: 0; min-height: 280px;">
                <AntList Grid="grid" DataSource="@Data">
                    <Card Bordered="false" Title="@(context.ProductName)">
                        <Body>
                            <Image  Width="400px" Src="@("/images/"+context.ThumbnailImage)" />
                        </Body>
                    </Card>
                    
                 </AntList>
            </Content>
        </Layout>
    </Layout>
</Layout>

<Drawer Closable="true" @bind-Visible="visible" Placement="right" Title='("Basic Drawer")' OnClose="_=>close()">
    <p>Some contents...</p>
    <p>Some contents...</p>
    <p>Some contents...</p>
</Drawer>

@code{
    bool visible = false;
    private ListGridType grid = new()
        {
            Gutter = 16,
            Xs = 4,
            Sm = 4,
            Md = 4,
            Lg = 4,
            Xl = 4,
            Xxl = 4,
        };

    public List<Product> Data = new List<Product>();
    protected override void OnInitialized()
    {
        base.OnInitialized();
        Data = _product.GetList();
    }

    void open()
    {
        this.visible = true;
    }
    void close()
    {
        this.visible = false;
    }

}

<style>
    #components-layout-demo-top-side-2 .logo {
        width: 120px;
        height: 31px;
        background: rgba(255, 255, 255, 0.2);
        margin: 16px 28px 16px 0;
        float: left;
    }

    .site-layout-background {
        background: #fff;
    }

    .JokerLogo{
        color:white;
        font-size:22px;
        width:200px;
        float:left;
        font-weight:bold;
    }

</style>

            